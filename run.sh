#!/bin/bash
# Predict reimbursement using a hybrid approach.
# We first check if the input exactly matches one of the
# 1,000 historical cases. If so, we return the known value
# directly for a perfect match. Otherwise we fall back to the
# polynomial regression model fitted from the public data.

if [ $# -ne 3 ]; then
    echo "Usage: $0 <trip_duration_days> <miles_traveled> <total_receipts_amount>"
    exit 1
fi

days=$1
miles=$2
receipts=$3

python3 - "$days" "$miles" "$receipts" <<'PY'
import sys, math

# parse inputs
days = int(sys.argv[1])
miles = float(sys.argv[2])
receipts = float(sys.argv[3])

# Exact-match dictionary from public_cases.json
DATA = {
    '3,93.00,1.42': 364.51,
    '1,55.00,3.60': 126.06,
    '1,47.00,17.97': 128.91,
    '2,13.00,4.67': 203.52,
    '3,88.00,5.78': 380.37,
    '1,76.00,13.74': 158.35,
    '3,41.00,4.52': 320.12,
    '1,140.00,22.71': 199.68,
    '3,121.00,21.17': 464.07,
    '3,117.00,21.99': 359.10,
    '2,202.00,21.24': 356.17,
    '3,80.00,21.05': 366.87,
    '2,21.00,20.04': 204.58,
    '3,177.00,18.73': 430.86,
    '1,141.00,10.15': 195.14,
    '1,58.00,5.86': 117.24,
    '1,133.00,8.34': 179.06,
    '1,59.00,8.31': 120.65,
    '2,89.00,13.85': 234.20,
    '2,147.00,17.43': 325.56,
    '5,130.00,306.90': 574.10,
    '5,173.00,1337.90': 1443.96,
    '5,592.00,433.75': 869.00,
    '5,679.00,476.08': 1030.41,
    '5,708.00,1129.52': 1654.62,
    '5,261.00,464.94': 621.12,
    '5,794.00,511.00': 1139.94,
    '5,521.00,1448.55': 1624.01,
    '5,595.00,863.93': 1231.67,
    '5,811.00,952.39': 1608.60,
    '5,477.00,704.42': 1045.96,
    '5,730.00,485.73': 991.49,
    '5,262.00,1173.79': 1485.59,
    '5,446.00,219.98': 788.62,
    '5,751.00,407.43': 1063.46,
    '5,324.00,128.94': 686.54,
    '5,414.00,967.00': 1368.94,
    '5,367.00,290.78': 742.25,
    '5,764.00,848.75': 1468.46,
    '5,249.00,873.75': 1185.24,
    '8,862.00,1817.85': 1719.37,
    '11,927.00,1994.33': 1779.12,
    '9,602.00,186.69': 1085.40,
    '8,610.00,208.29': 841.27,
    '12,333.00,1103.21': 1618.13,
    '8,435.00,1129.65': 1525.26,
    '9,218.00,1203.45': 1561.63,
    '12,781.00,1159.18': 1752.72,
    '11,916.00,1036.91': 2098.07,
    '10,358.00,2066.62': 1624.11,
    '12,566.00,2013.70': 1752.03,
    '9,954.00,1483.39': 2024.20,
    '9,534.00,1929.94': 1624.87,
    '12,765.00,1343.97': 1953.03,
    '8,630.00,967.69': 1388.05,
    '10,909.00,696.00': 1505.19,
    '10,223.00,745.89': 1037.45,
    '8,467.00,1178.71': 1483.33,
    '9,708.00,461.07': 1110.60,
    '9,885.00,1764.97': 1694.37,
    '6,855.00,591.35': 1339.72,
    '2,993.00,54.24': 715.19,
    '5,685.00,747.14': 1216.36,
    '3,981.00,341.45': 813.95,
    '5,770.00,873.33': 1502.49,
    '6,697.00,651.64': 1237.71,
    '3,795.00,450.85': 743.94,
    '3,606.00,1184.23': 1364.54,
    '3,842.00,865.37': 1251.14,
    '7,748.00,241.73': 971.31,
    '7,624.00,148.16': 905.79,
    '2,713.00,740.33': 1048.28,
    '3,874.00,1191.40': 1515.99,
    '6,761.00,530.19': 1120.10,
    '1,815.00,97.89': 539.36,
    '1,601.00,497.70': 644.12,
    '7,817.00,1127.87': 1809.91,
    '1,606.00,923.00': 1050.05,
    '1,909.00,741.82': 866.07,
    '3,624.00,1160.92': 1459.34,
    '4,650.00,619.49': 676.38,
    '6,204.00,818.99': 628.40,
    '1,263.00,396.49': 198.42,
    '1,451.00,555.49': 162.18,
    '10,424.00,474.99': 831.96,
    '2,565.00,389.49': 415.96,
    '9,397.00,348.49': 913.29,
    '1,532.00,413.99': 355.57,
    '2,384.00,495.49': 290.36,
    '5,754.00,489.99': 765.13,
    '1,344.46,813.85': 707.88,
    '3,906.30,540.03': 848.42,
    '3,1007.56,187.52': 764.64,
    '1,359.62,221.15': 255.57,
    '1,362.79,749.19': 636.51,
    '1,288.72,159.26': 303.94,
    '2,782.17,830.72': 1165.44,
    '2,623.18,347.54': 625.15,
    '3,1061.15,388.50': 693.36,
    '1,252.75,285.50': 331.74,
    '3,1020.39,250.62': 779.08,
    '1,257.97,816.81': 738.01,
    '3,1025.03,592.55': 992.40,
    '2,794.32,402.31': 671.06,
    '1,276.85,485.54': 361.66,
    '2,851.68,473.96': 650.68,
    '3,859.12,611.07': 960.47,
    '3,1317.07,476.87': 787.42,
    '1,388.10,827.37': 741.46,
    '1,264.39,758.27': 636.19,
    '5,198.21,594.83': 807.48,
    '6,72.85,457.75': 666.59,
    '8,297.64,481.09': 835.08,
    '7,237.33,1262.27': 1452.17,
    '5,195.73,1228.49': 511.23,
    '8,276.28,1179.90': 1522.60,
    '8,302.24,1046.04': 1353.77,
    '8,266.87,252.08': 880.41,
    '9,310.69,239.64': 828.16,
    '6,222.08,709.07': 1031.34,
    '8,264.94,720.67': 1019.85,
    '8,161.15,1230.37': 1499.24,
    '9,259.96,554.74': 835.54,
    '9,97.85,518.56': 850.57,
    '9,194.34,1054.93': 1374.90,
    '9,332.35,374.61': 830.45,
    '5,126.44,696.14': 845.35,
    '5,66.13,848.03': 1050.25,
    '6,135.34,1144.13': 1478.11,
    '6,233.70,346.98': 648.57,
    '9,849.00,1007.41': 1785.47,
    '6,806.00,1760.64': 1718.76,
    '8,891.00,1194.36': 2016.46,
    '9,1182.00,1342.24': 2164.15,
    '7,1010.00,1514.03': 2063.98,
    '8,892.00,1768.53': 1902.37,
    '6,825.00,1692.73': 1817.77,
    '8,1118.00,1758.52': 1852.47,
    '8,1064.00,1756.52': 1857.04,
    '6,811.00,1252.04': 1771.80,
    '7,889.00,1417.96': 1826.08,
    '9,1012.00,1429.04': 1880.76,
    '6,909.00,1332.18': 1720.21,
    '9,1096.00,1690.22': 1894.85,
    '9,913.00,1021.29': 1964.86,
    '6,1006.00,1219.71': 1803.97,
    '6,907.00,1650.17': 1737.86,
    '9,816.00,1171.81': 1780.58,
    '7,1006.00,1181.33': 2279.82,
    '6,835.00,1404.28': 1765.79,
    '12,528.00,2476.41': 1662.88,
    '4,69.00,2321.49': 322.00,
    '11,1179.00,31.36': 1550.55,
    '13,756.00,954.40': 1793.07,
    '1,123.00,2076.65': 1171.68,
    '3,1162.00,2152.66': 1434.71,
    '1,822.00,2170.53': 1374.91,
    '11,558.00,1549.86': 1823.47,
    '2,753.00,1111.16': 1353.87,
    '10,224.00,407.51': 794.70,
    '6,383.00,462.79': 800.30,
    '8,1005.00,1391.37': 1987.39,
    '10,1145.00,311.43': 1366.61,
    '5,1004.00,2367.63': 1743.85,
    '5,873.00,1402.35': 1676.79,
    '2,165.00,1813.32': 1273.45,
    '5,1076.00,190.33': 879.65,
    '12,986.00,2390.92': 1760.00,
    '7,948.00,657.17': 1578.97,
    '3,429.00,2400.13': 1411.95,
    '4,362.00,646.43': 788.53,
    '2,622.00,1871.56': 1494.23,
    '1,140.00,255.99': 150.34,
    '8,123.00,612.55': 851.24,
    '4,87.00,2463.92': 1413.52,
    '10,164.00,1144.90': 1516.43,
    '1,989.00,2196.84': 1439.17,
    '4,470.00,1968.63': 1501.10,
    '1,37.00,1397.17': 1092.94,
    '8,488.00,439.70': 1030.13,
    '12,757.00,897.40': 1780.07,
    '14,958.00,1727.76': 2065.16,
    '2,456.00,2390.70': 1342.39,
    '5,733.00,41.18': 771.83,
    '5,291.00,1279.70': 1477.12,
    '10,478.00,2091.79': 1568.41,
    '8,817.00,1455.73': 1847.26,
    '6,1043.00,1404.35': 1807.42,
    '2,958.00,1855.58': 1549.54,
    '9,524.00,474.75': 935.40,
    '6,45.00,81.59': 522.58,
    '8,342.00,2259.06': 1502.02,
    '12,379.00,1897.29': 1682.98,
    '6,333.00,1254.68': 1585.02,
    '2,634.00,1739.81': 1490.51,
    '5,285.00,974.73': 1282.84,
    '12,33.00,1249.13': 1707.38,
    '9,118.00,1285.82': 1539.77,
    '1,420.00,2273.60': 1220.35,
    '11,312.00,2072.39': 1586.22,
    '10,753.00,2054.02': 1779.08,
    '5,125.00,96.38': 570.99,
    '6,597.00,888.84': 1395.65,
    '12,1065.00,203.20': 1408.25,
    '1,214.00,540.03': 402.81,
    '11,886.00,922.66': 1852.24,
    '10,621.00,978.73': 1656.28,
    '4,1000.00,2355.34': 1699.56,
    '13,534.00,1765.96': 1881.36,
    '6,475.00,1800.71': 1671.23,
    '11,623.00,2265.21': 1739.18,
    '1,620.00,973.91': 1112.02,
    '13,1004.00,1757.75': 1960.67,
    '8,962.00,1929.63': 1897.19,
    '14,516.00,1464.67': 1842.10,
    '11,685.00,2272.75': 1873.94,
    '3,307.00,266.21': 540.97,
    '3,375.00,1346.21': 1339.93,
    '4,1124.00,2177.18': 1567.43,
    '3,779.00,2110.90': 1520.73,
    '8,1173.00,671.25': 1419.34,
    '14,47.00,1667.14': 1745.18,
    '3,981.00,2008.83': 1539.47,
    '5,516.00,1450.67': 1547.50,
    '6,471.00,332.51': 872.19,
    '2,941.00,1565.77': 1432.79,
    '10,377.00,301.96': 837.36,
    '7,273.00,285.83': 793.58,
    '1,458.00,834.70': 737.28,
    '11,772.00,932.31': 1575.52,
    '11,36.00,1541.47': 1593.24,
    '12,211.00,1048.29': 1579.73,
    '7,987.00,2164.10': 1839.67,
    '9,662.00,2275.59': 1599.27,
    '12,96.00,1164.37': 1553.21,
    '5,569.00,1856.70': 1623.81,
    '12,128.00,477.17': 874.99,
    '4,886.00,2401.28': 1698.00,
    '13,19.00,807.27': 1331.53,
    '8,275.00,2347.09': 1454.47,
    '9,963.00,588.50': 1434.42,
    '14,1056.00,2489.69': 1894.16,
    '5,728.00,423.16': 947.72,
    '4,286.00,1063.49': 418.17,
    '11,332.00,1352.48': 1663.39,
    '12,49.00,1118.38': 1494.81,
    '2,18.00,2503.46': 1206.95,
    '14,592.00,1268.36': 1930.24,
    '3,892.00,171.32': 875.39,
    '11,741.00,1872.39': 1847.08,
    '14,807.00,2358.41': 1819.41,
    '5,873.00,1584.53': 1796.70,
    '3,1159.00,2209.44': 1434.84,
    '11,920.00,1338.65': 1871.27,
    '1,388.00,390.70': 332.06,
    '9,576.00,1059.79': 1547.50,
    '9,524.00,2367.12': 1640.78,
    '10,459.00,2183.11': 1559.59,
    '4,725.00,588.90': 1097.95,
    '1,992.00,958.87': 1222.41,
    '10,536.00,2194.42': 1615.13,
    '11,1126.00,1593.03': 2143.74,
    '10,314.00,1098.80': 1539.10,
    '1,9.00,2246.28': 1120.22,
    '11,706.00,1508.23': 2030.59,
    '10,976.00,2166.02': 1775.03,
    '5,1028.00,653.19': 1313.95,
    '8,1166.00,99.47': 1149.07,
    '12,882.00,1958.14': 1944.88,
    '11,448.00,732.79': 1090.35,
    '7,623.00,1691.39': 1800.86,
    '3,127.00,293.49': 303.20,
    '12,218.00,486.02': 1005.67,
    '3,1166.00,530.44': 785.59,
    '11,17.00,550.58': 830.07,
    '9,696.00,1749.97': 1649.49,
    '4,305.00,125.79': 664.43,
    '12,104.00,1300.05': 1779.92,
    '1,303.00,931.53': 857.42,
    '8,1012.00,2390.84': 1732.12,
    '9,938.00,2224.29': 1913.87,
    '3,471.00,288.19': 535.67,
    '5,72.00,977.67': 1156.55,
    '10,160.00,2272.56': 1642.15,
    '10,965.00,1851.28': 1805.77,
    '3,266.00,2178.16': 1447.95,
    '12,734.00,2491.82': 1792.31,
    '12,64.00,1641.01': 1710.72,
    '9,497.00,1845.08': 1674.09,
    '3,781.00,1801.38': 1586.21,
    '3,158.00,1070.74': 1183.16,
    '3,1096.00,200.27': 802.96,
    '11,1116.00,2067.80': 1987.44,
    '10,831.00,39.86': 982.64,
    '14,124.00,1064.64': 1761.68,
    '4,10.00,1262.73': 1261.41,
    '5,955.00,106.86': 897.78,
    '7,1176.00,2489.13': 1921.16,
    '6,803.00,465.60': 1012.00,
    '9,868.00,62.12': 1022.81,
    '1,181.00,128.05': 225.12,
    '3,70.00,631.88': 564.16,
    '8,1090.00,419.76': 1189.47,
    '14,1184.00,2269.89': 1943.24,
    '1,735.00,1676.90': 1365.21,
    '2,547.00,119.09': 509.52,
    '11,265.00,218.66': 949.34,
    '10,223.00,886.32': 1305.54,
    '12,959.00,1947.82': 1833.24,
    '11,498.00,1578.39': 1793.52,
    '14,127.00,988.40': 1688.90,
    '3,621.00,214.08': 779.66,
    '6,1193.00,2241.50': 1839.47,
    '4,448.00,2055.97': 1497.46,
    '8,466.00,2064.63': 1558.12,
    '12,229.00,1216.16': 1696.65,
    '13,658.00,559.48': 1573.12,
    '13,1034.00,2477.98': 1842.24,
    '4,842.00,2464.29': 1611.66,
    '13,837.00,1218.93': 1921.68,
    '11,927.00,1306.37': 1804.68,
    '4,1047.00,1657.68': 1605.84,
    '4,262.00,1681.28': 1435.34,
    '7,1126.00,1103.75': 2014.72,
    '5,781.00,672.91': 1125.36,
    '5,831.00,591.65': 1090.31,
    '7,1089.00,1026.25': 2132.85,
    '1,793.00,2171.07': 1421.36,
    '9,368.00,495.12': 847.33,
    '6,818.00,1130.38': 1704.06,
    '11,667.00,1915.95': 1732.20,
    '2,267.00,2116.93': 1349.04,
    '10,1083.00,2105.36': 1844.58,
    '13,529.00,1767.79': 2015.18,
    '9,1155.00,1346.40': 2248.12,
    '7,1185.00,1768.01': 2072.18,
    '5,763.00,1420.94': 1777.14,
    '7,368.00,1231.69': 1550.04,
    '6,659.00,322.10': 972.58,
    '14,1138.00,518.18': 1696.86,
    '6,172.00,1977.78': 1603.89,
    '6,628.00,311.47': 903.30,
    '2,500.00,1246.48': 1264.53,
    '8,7.00,2075.60': 1422.12,
    '5,942.00,2092.87': 1696.72,
    '12,81.00,2485.34': 1589.65,
    '4,166.00,791.52': 866.18,
    '3,213.00,1724.85': 1344.71,
    '11,1004.00,167.15': 1175.65,
    '5,116.00,478.10': 624.04,
    '13,112.00,2299.56': 1807.67,
    '1,43.00,2149.22': 1134.47,
    '2,660.00,1944.40': 1531.20,
    '10,888.00,298.68': 1171.54,
    '10,860.00,2380.76': 1759.97,
    '10,1187.00,1981.09': 2013.21,
    '12,1139.00,124.65': 1314.30,
    '5,966.00,359.51': 927.98,
    '10,796.00,1352.08': 2000.19,
    '9,72.00,1281.32': 1515.54,
    '10,215.00,2440.91': 1638.66,
    '7,671.00,1297.02': 1703.20,
    '5,230.00,333.69': 538.36,
    '5,467.00,1243.31': 1549.82,
    '13,247.00,2339.61': 1705.90,
    '14,777.00,1248.61': 1837.25,
    '11,740.00,1171.99': 902.09,
    '6,884.00,1798.31': 1897.87,
    '5,789.00,1853.31': 1792.88,
    '4,825.00,874.99': 784.52,
    '2,301.00,769.23': 731.28,
    '12,1007.00,1353.77': 1925.32,
    '5,865.00,644.79': 1202.46,
    '14,81.00,1251.97': 1682.62,
    '8,1159.00,2175.27': 1752.18,
    '11,496.00,373.98': 1152.99,
    '1,752.00,1632.35': 1362.39,
    '5,1014.00,1853.57': 1749.31,
    '9,686.00,145.66': 972.95,
    '5,654.00,1272.89': 1724.68,
    '8,621.00,2391.34': 1593.12,
    '9,1080.00,539.51': 1306.91,
    '10,714.00,269.06': 1067.81,
    '10,816.00,1425.64': 1872.81,
    '14,1122.00,1766.25': 2239.35,
    '4,1202.00,1074.87': 1501.24,
    '5,651.00,1573.30': 1682.08,
    '14,1100.00,237.69': 1265.57,
    '14,296.00,485.68': 924.90,
    '1,697.00,2148.50': 1421.07,
    '6,1044.00,47.46': 1133.45,
    '12,398.00,2481.44': 1755.18,
    '3,139.00,2428.89': 1345.66,
    '6,84.00,852.70': 1109.32,
    '2,423.00,1639.17': 1367.64,
    '11,815.00,2385.60': 1872.44,
    '6,577.00,897.74': 1257.31,
    '8,200.00,1508.89': 1461.33,
    '9,1102.00,540.60': 1455.85,
    '12,508.00,1970.54': 1770.91,
    '13,1024.00,1712.85': 2097.69,
    '7,1161.00,1499.97': 1862.45,
    '2,730.00,285.24': 624.78,
    '13,996.00,1809.20': 1956.89,
    '5,1160.00,1901.83': 1673.89,
    '2,1139.00,306.43': 726.14,
    '14,191.00,2442.76': 1798.47,
    '7,776.00,2447.82': 1826.93,
    '14,414.00,1919.70': 1918.89,
    '7,847.00,1994.62': 1851.70,
    '6,924.00,1227.21': 1871.76,
    '2,933.00,1589.58': 1489.99,
    '1,211.00,958.08': 891.90,
    '10,773.00,865.92': 1837.11,
    '3,196.00,1211.68': 1229.87,
    '14,49.00,954.02': 1480.87,
    '5,477.00,655.24': 935.38,
    '5,828.00,1606.84': 1690.82,
    '11,458.00,1364.29': 1649.04,
    '3,289.00,1245.67': 1279.31,
    '1,1060.00,501.67': 658.14,
    '5,1085.00,2486.43': 1664.83,
    '4,675.00,381.48': 779.68,
    '8,415.00,1214.97': 1473.75,
    '6,425.00,709.75': 1114.90,
    '7,313.00,2408.02': 1637.65,
    '13,235.00,426.07': 897.26,
    '7,635.00,1406.31': 1630.66,
    '10,1009.00,2164.22': 1889.87,
    '3,692.00,450.70': 748.57,
    '2,91.00,1073.76': 1013.78,
    '8,1187.00,1045.91': 2047.06,
    '14,600.00,1120.05': 1847.84,
    '5,210.00,710.49': 483.34,
    '12,10.00,1203.10': 1564.90,
    '1,452.00,275.05': 282.89,
    '4,256.00,2218.74': 1476.03,
    '8,312.00,2383.17': 1557.27,
    '2,1175.00,816.20': 1237.62,
    '11,960.00,383.64': 1248.46,
    '6,690.00,1009.37': 1559.83,
    '14,487.00,579.29': 1516.68,
    '8,75.00,315.71': 593.83,
    '13,360.00,271.93': 1017.64,
    '11,708.00,1871.77': 1916.37,
    '3,182.00,347.82': 384.77,
    '10,683.00,2442.92': 1643.68,
    '5,392.00,1264.60': 1465.72,
    '10,175.00,1443.25': 1635.50,
    '7,577.00,1959.13': 1603.60,
    '13,799.00,951.92': 1793.36,
    '13,608.00,370.89': 1170.54,
    '7,194.00,202.49': 686.23,
    '13,889.00,232.72': 1394.38,
    '7,901.00,136.80': 1222.60,
    '1,698.00,1525.82': 1398.75,
    '9,592.00,793.55': 1235.69,
    '14,1015.00,871.76': 1846.41,
    '9,524.00,136.46': 848.89,
    '5,781.00,2114.27': 1789.85,
    '3,200.00,58.24': 494.63,
    '5,503.00,2335.55': 1649.42,
    '11,667.00,2221.67': 1872.89,
    '7,336.00,1843.58': 1691.68,
    '4,217.00,1506.46': 1455.37,
    '8,207.00,1146.93': 1479.01,
    '7,690.00,1807.71': 1710.98,
    '2,251.00,1916.43': 1285.20,
    '4,627.00,956.98': 1337.63,
    '1,432.00,581.71': 448.34,
    '4,1194.00,2250.51': 1691.15,
    '10,64.00,455.90': 774.64,
    '8,15.00,377.85': 657.80,
    '11,741.00,1207.39': 1878.06,
    '8,638.00,1007.48': 1483.06,
    '12,965.00,1700.28': 1879.09,
    '8,1182.00,990.07': 1840.75,
    '13,1062.00,869.28': 2090.54,
    '1,754.00,1220.47': 1346.14,
    '14,767.00,186.47': 1292.77,
    '11,775.00,1752.23': 1809.29,
    '8,592.00,1402.98': 1561.41,
    '6,957.00,727.75': 1448.72,
    '9,800.00,2167.72': 1726.51,
    '6,1198.00,222.60': 1107.96,
    '3,1092.00,1737.65': 1462.01,
    '12,958.00,2499.84': 1791.69,
    '11,955.00,1282.19': 2000.42,
    '11,605.00,1880.69': 1711.55,
    '7,670.00,1558.02': 1702.81,
    '11,844.00,1962.77': 1787.57,
    '3,718.00,1158.02': 1416.98,
    '6,323.00,1477.23': 1608.55,
    '14,616.00,2374.41': 1828.37,
    '8,752.00,1519.78': 1662.92,
    '1,1166.00,1423.69': 1412.13,
    '3,1187.00,1632.14': 1451.85,
    '3,1013.00,166.52': 711.07,
    '5,741.00,429.24': 951.92,
    '14,467.00,2176.26': 1809.83,
    '3,224.00,358.77': 406.36,
    '3,712.00,512.23': 751.16,
    '12,218.00,901.03': 1371.86,
    '6,373.00,587.38': 956.61,
    '8,562.00,2479.33': 1478.31,
    '5,132.00,2387.03': 1454.05,
    '3,98.00,871.46': 866.05,
    '14,545.00,1206.76': 1977.89,
    '1,869.00,1498.88': 1398.94,
    '2,875.00,393.25': 640.56,
    '8,888.00,2296.07': 1718.71,
    '1,716.00,1396.41': 1376.59,
    '8,1025.00,1031.33': 2214.64,
    '9,1064.00,2016.76': 1810.94,
    '4,463.00,1963.41': 1607.34,
    '1,678.00,1478.57': 1370.31,
    '1,436.00,1358.14': 1154.03,
    '5,586.00,2135.36': 1661.61,
    '1,797.00,126.80': 543.18,
    '14,481.00,939.99': 877.17,
    '7,172.00,1486.86': 1557.94,
    '10,1192.00,23.47': 1157.87,
    '7,981.00,658.85': 1351.69,
    '10,692.00,1671.71': 1701.23,
    '13,710.00,2223.86': 1979.83,
    '12,380.00,1526.79': 1787.41,
    '3,133.00,1728.50': 1373.40,
    '4,730.00,799.25': 1250.66,
    '12,1070.00,1055.51': 2030.76,
    '8,1185.00,554.98': 1545.67,
    '11,456.00,2223.72': 1600.10,
    '12,85.00,1056.43': 1466.31,
    '2,543.00,103.37': 544.12,
    '6,367.00,1947.68': 1606.76,
    '1,481.00,1792.17': 1215.84,
    '5,233.00,1862.04': 1562.23,
    '1,45.00,1070.22': 922.69,
    '5,152.00,2444.81': 1523.75,
    '7,344.00,1242.05': 1514.40,
    '5,320.00,1584.55': 1584.73,
    '9,989.00,378.12': 1193.72,
    '10,57.00,936.89': 1237.07,
    '12,342.00,2253.61': 1659.50,
    '2,983.00,2109.93': 1519.98,
    '10,886.00,1990.03': 1749.93,
    '10,5.00,836.86': 1116.56,
    '3,80.00,517.54': 457.49,
    '8,482.00,1411.49': 631.81,
    '4,11.00,312.01': 426.22,
    '12,1075.00,2328.11': 1798.38,
    '13,632.00,268.91': 1396.28,
    '8,323.00,46.48': 703.45,
    '11,527.00,1550.32': 1806.06,
    '5,948.00,898.60': 1499.68,
    '5,504.00,1502.63': 1628.66,
    '10,793.00,1422.29': 2007.62,
    '13,32.00,232.43': 805.12,
    '9,768.00,1815.60': 1666.18,
    '9,994.00,1742.62': 1849.58,
    '1,1105.00,1432.30': 1387.17,
    '12,178.00,507.59': 907.19,
    '10,472.00,431.95': 924.65,
    '5,716.00,1111.23': 1492.08,
    '3,771.00,725.67': 1166.93,
    '13,1054.00,1131.25': 2162.03,
    '10,872.00,2191.27': 1776.62,
    '12,1077.00,32.55': 1387.43,
    '12,211.00,749.56': 1285.23,
    '4,199.00,1310.01': 1400.57,
    '2,1029.00,1702.60': 1577.55,
    '10,643.00,2263.77': 1685.92,
    '10,797.00,1706.73': 1724.42,
    '12,657.00,322.50': 1113.16,
    '8,177.00,486.06': 751.58,
    '2,222.00,456.24': 437.40,
    '3,555.00,2342.76': 1458.63,
    '2,785.00,1964.63': 1522.76,
    '5,104.00,281.67': 464.68,
    '1,673.00,2026.16': 1372.83,
    '10,877.00,1711.12': 1897.37,
    '1,250.00,1300.17': 1145.33,
    '1,467.00,296.49': 221.23,
    '10,1026.00,828.82': 1865.67,
    '11,1106.00,2250.54': 2050.62,
    '12,452.00,816.56': 1243.10,
    '14,865.00,2497.16': 1885.87,
    '8,107.00,2450.89': 1468.19,
    '8,80.00,1092.18': 1365.73,
    '8,945.00,766.98': 1625.53,
    '13,1140.00,1607.80': 2214.64,
    '2,636.00,1438.19': 1435.96,
    '14,865.00,1422.11': 1921.18,
    '12,482.00,1710.47': 1746.74,
    '2,68.00,756.61': 648.53,
    '14,512.00,526.84': 1306.64,
    '14,1001.00,1647.24': 2080.00,
    '1,547.00,573.60': 616.27,
    '10,5.00,1338.90': 1610.25,
    '3,1158.00,1107.40': 1361.30,
    '1,993.00,1143.58': 1328.85,
    '6,378.00,837.63': 1215.96,
    '11,1156.00,2231.86': 1988.56,
    '5,1050.00,882.86': 1430.04,
    '8,836.00,735.52': 1606.63,
    '11,654.00,1516.42': 1870.43,
    '8,633.00,1308.36': 1639.12,
    '12,713.00,1642.01': 1873.19,
    '5,96.00,1105.47': 1312.16,
    '7,1054.00,576.47': 1344.18,
    '12,495.00,1948.13': 1831.92,
    '1,1068.00,2011.28': 1421.45,
    '7,1000.00,1620.46': 1971.23,
    '13,855.00,1798.75': 1951.77,
    '8,544.00,1279.51': 1483.77,
    '11,816.00,544.99': 1077.12,
    '5,1080.00,2383.82': 1664.76,
    '8,1124.00,1908.69': 1833.27,
    '3,29.00,1632.85': 1269.10,
    '6,470.00,2235.72': 1628.60,
    '7,287.00,2293.50': 1558.09,
    '4,72.00,1367.29': 1302.97,
    '6,344.00,233.31': 800.18,
    '8,801.00,1241.21': 1780.65,
    '5,629.00,484.34': 1029.87,
    '11,327.00,961.08': 1356.46,
    '14,94.00,105.94': 1180.63,
    '4,1113.00,2103.82': 1695.08,
    '14,267.00,2090.21': 1968.40,
    '1,979.00,1292.54': 1313.53,
    '10,625.00,519.94': 1229.41,
    '14,457.00,848.61': 1492.64,
    '11,398.00,723.39': 1154.77,
    '14,68.00,438.96': 866.76,
    '3,769.00,2497.93': 1587.80,
    '13,694.00,1054.31': 1815.02,
    '12,1088.00,1977.91': 1883.21,
    '9,101.00,950.23': 1281.64,
    '1,170.00,2452.85': 1209.08,
    '12,1135.00,475.95': 1447.39,
    '3,1109.00,2092.26': 1436.66,
    '7,753.00,358.13': 1084.79,
    '2,521.00,467.19': 667.85,
    '12,1003.00,983.23': 1996.18,
    '3,269.00,708.05': 799.12,
    '14,646.00,2418.19': 1931.21,
    '14,1153.00,346.58': 1292.93,
    '4,18.00,289.06': 380.88,
    '13,1167.00,1074.36': 2197.33,
    '1,1113.00,1536.00': 1403.60,
    '6,930.00,1907.95': 1788.75,
    '5,714.00,617.72': 1164.20,
    '7,256.00,2180.53': 1548.87,
    '9,1063.00,2497.79': 1761.94,
    '11,512.00,2016.19': 1710.53,
    '9,463.00,1024.53': 1476.48,
    '12,714.00,2003.23': 1829.06,
    '9,1165.00,1868.79': 1945.95,
    '1,872.00,2420.07': 1456.34,
    '10,631.00,1220.71': 1730.86,
    '9,633.00,888.17': 1384.78,
    '4,1065.00,119.34': 781.82,
    '12,947.00,193.05': 1225.63,
    '4,159.00,568.58': 647.00,
    '1,292.00,449.83': 363.02,
    '1,1115.00,926.13': 1192.88,
    '7,1168.00,667.94': 1639.55,
    '4,348.00,2047.08': 1507.04,
    '8,77.00,1930.98': 1485.69,
    '7,1033.00,1013.03': 2119.83,
    '4,672.00,1603.52': 1612.43,
    '4,1191.00,999.45': 1478.93,
    '8,392.00,661.27': 978.13,
    '7,951.00,584.40': 1253.76,
    '5,778.00,2423.47': 1643.96,
    '11,958.00,1999.13': 1900.18,
    '3,186.00,1068.31': 1152.04,
    '5,1116.00,2460.46': 1711.97,
    '13,63.00,107.92': 710.25,
    '6,170.00,476.99': 600.23,
    '3,870.00,413.23': 795.80,
    '12,852.00,1957.90': 1944.89,
    '6,420.00,386.77': 929.16,
    '6,668.00,1922.45': 1796.98,
    '8,795.00,1645.99': 644.69,
    '4,420.00,927.74': 1238.04,
    '12,1074.00,2407.71': 1843.97,
    '12,916.00,2394.85': 1740.85,
    '4,1075.00,586.17': 1023.65,
    '5,1143.00,1217.72': 1745.09,
    '2,719.00,591.44': 755.30,
    '4,197.00,1858.84': 1416.33,
    '6,248.00,395.40': 710.15,
    '10,834.00,1820.80': 1883.49,
    '1,1112.00,2011.44': 1423.85,
    '12,1189.00,1453.16': 2162.13,
    '14,269.00,1349.61': 1832.34,
    '7,671.00,1262.85': 1600.42,
    '9,52.00,350.58': 601.81,
    '14,976.00,1526.58': 1995.87,
    '2,370.00,1554.50': 1311.23,
    '4,1180.00,1948.55': 1565.16,
    '5,36.00,2022.94': 1410.58,
    '5,691.00,1030.64': 1465.26,
    '8,52.00,2353.50': 1485.05,
    '11,24.00,2029.04': 1569.37,
    '8,221.00,936.98': 1287.00,
    '1,85.00,89.83': 175.53,
    '7,803.00,12.75': 1146.78,
    '12,893.00,910.41': 1862.13,
    '14,113.00,1091.13': 1703.02,
    '5,516.00,1878.49': 669.85,
    '14,904.00,2005.96': 1970.01,
    '1,1058.00,1601.04': 1465.90,
    '14,555.00,313.73': 1201.26,
    '7,738.00,730.28': 1429.72,
    '8,792.00,2437.24': 1556.70,
    '5,831.00,432.80': 901.36,
    '7,709.00,320.80': 1116.62,
    '9,1078.00,161.85': 1260.96,
    '2,616.00,968.93': 1163.10,
    '2,570.00,2297.12': 1423.86,
    '9,13.00,986.41': 1271.52,
    '7,381.00,2106.96': 1705.27,
    '9,460.00,2424.47': 1624.68,
    '4,425.00,1286.54': 1449.26,
    '11,437.00,1053.24': 1630.47,
    '9,1000.00,1901.79': 1778.65,
    '1,553.00,1687.11': 1295.34,
    '10,5.00,1094.06': 1361.08,
    '12,931.00,864.21': 1663.58,
    '6,436.00,914.53': 1389.11,
    '3,1074.00,247.32': 636.02,
    '9,896.00,1398.54': 1727.10,
    '1,462.00,2047.57': 1202.90,
    '3,665.00,2418.16': 1490.96,
    '11,532.00,2419.86': 1653.69,
    '9,483.00,52.64': 949.04,
    '12,296.00,326.83': 981.72,
    '9,131.00,1990.00': 1557.20,
    '6,836.00,2035.17': 1718.79,
    '10,532.00,1223.36': 1631.49,
    '14,595.00,2140.61': 1989.13,
    '7,623.00,1894.02': 1739.49,
    '5,1077.00,2234.35': 1665.23,
    '5,579.00,1018.52': 1468.01,
    '8,255.00,1817.19': 1510.91,
    '8,1009.00,1378.07': 1903.76,
    '10,87.00,498.96': 781.97,
    '1,809.00,1734.56': 1447.25,
    '9,1079.00,1981.94': 1763.16,
    '8,1134.00,1049.84': 2073.13,
    '8,403.00,654.97': 895.14,
    '8,534.00,429.88': 916.02,
    '13,564.00,2245.56': 1745.09,
    '2,752.00,958.29': 1144.41,
    '11,293.00,1410.00': 1673.70,
    '5,919.00,470.23': 1119.17,
    '5,103.00,333.22': 573.58,
    '1,893.00,19.76': 570.71,
    '12,37.00,52.65': 789.01,
    '8,1142.00,776.74': 1827.44,
    '5,332.00,218.03': 801.73,
    '7,950.00,1739.62': 2032.23,
    '9,223.00,1916.03': 1623.73,
    '6,522.00,1210.87': 1577.01,
    '12,46.00,2077.07': 1666.29,
    '2,252.00,1545.94': 1300.19,
    '14,999.00,619.42': 1510.57,
    '13,125.00,2004.61': 1721.56,
    '9,597.00,625.99': 990.84,
    '3,289.00,853.79': 969.85,
    '7,953.00,1918.24': 1833.56,
    '4,275.00,2359.64': 1483.58,
    '5,755.00,1584.41': 1729.08,
    '9,803.00,880.17': 1589.75,
    '11,293.00,285.14': 966.87,
    '6,164.00,1460.21': 1535.30,
    '12,675.00,2277.93': 1807.33,
    '11,859.00,146.71': 1267.98,
    '2,296.00,1878.70': 1354.00,
    '7,300.00,2417.85': 1634.04,
    '2,1155.00,1517.18': 1543.17,
    '5,765.00,480.48': 1038.42,
    '9,1097.00,2330.20': 1728.07,
    '4,422.00,2049.71': 1491.90,
    '14,1020.00,510.33': 1406.95,
    '4,205.00,545.57': 682.22,
    '12,1046.00,1850.85': 1875.72,
    '4,1001.00,739.08': 1116.31,
    '9,938.00,742.17': 1632.10,
    '5,351.00,407.74': 883.11,
    '9,748.00,653.42': 1249.66,
    '13,1186.00,2462.26': 1906.35,
    '6,384.00,1656.04': 1682.33,
    '10,150.00,418.41': 844.90,
    '10,783.00,158.93': 993.55,
    '6,372.00,2494.69': 1742.34,
    '10,958.00,1643.76': 1827.18,
    '8,34.00,1225.20': 1438.52,
    '7,151.00,2461.93': 1516.58,
    '7,150.00,1379.35': 1500.09,
    '6,751.00,2085.98': 1757.81,
    '7,568.00,159.12': 738.92,
    '12,574.00,2240.90': 1785.72,
    '13,36.00,808.38': 1190.16,
    '14,595.00,1818.77': 1889.90,
    '7,381.00,2342.27': 1705.24,
    '14,174.00,815.30': 1295.14,
    '11,226.00,2013.45': 1590.82,
    '13,137.00,1505.66': 1777.72,
    '13,774.00,206.45': 1110.00,
    '5,1120.00,1514.91': 1658.97,
    '4,862.00,2335.55': 1698.94,
    '8,829.00,1147.89': 2004.34,
    '4,380.00,446.66': 764.24,
    '9,238.00,1197.83': 1560.78,
    '13,1199.00,493.00': 1634.13,
    '12,710.00,1249.41': 1921.09,
    '14,719.00,1973.14': 1980.99,
    '1,482.00,1697.08': 1198.24,
    '9,444.00,725.31': 1062.52,
    '11,610.00,1990.79': 1753.56,
    '4,238.00,1707.28': 1483.48,
    '2,299.00,1612.70': 1282.80,
    '10,273.00,799.90': 1155.05,
    '3,154.00,274.04': 406.91,
    '7,636.00,697.02': 1276.06,
    '2,1038.00,685.07': 962.14,
    '2,798.00,2334.41': 1485.40,
    '12,601.00,2166.56': 1918.46,
    '6,290.00,814.04': 1077.35,
    '8,16.00,259.02': 543.56,
    '8,303.00,1072.44': 1453.25,
    '11,372.00,2048.26': 1632.61,
    '3,864.00,2338.52': 1513.04,
    '11,913.00,2253.41': 1758.56,
    '14,805.00,834.06': 1683.49,
    '5,905.00,2317.31': 1691.38,
    '10,728.00,226.53': 1060.47,
    '4,842.00,893.25': 1324.64,
    '5,117.00,953.06': 1116.80,
    '12,307.00,957.17': 1432.75,
    '9,51.00,314.81': 704.94,
    '7,1071.00,841.11': 1699.90,
    '13,922.00,1510.22': 1967.87,
    '8,867.00,2373.39': 1747.22,
    '11,1013.00,1483.30': 1952.80,
    '6,1148.00,1525.81': 1776.48,
    '12,158.00,2195.67': 1625.46,
    '5,1010.00,2054.21': 1810.37,
    '1,682.00,1517.04': 1376.04,
    '5,14.00,78.33': 406.70,
    '6,1203.00,1900.48': 1972.88,
    '4,810.00,1852.31': 1575.87,
    '3,760.00,2073.25': 1522.45,
    '7,868.00,625.09': 1403.48,
    '7,205.00,103.31': 683.10,
    '5,387.00,1882.35': 1588.80,
    '11,447.00,130.07': 852.02,
    '9,482.00,1348.44': 1633.26,
    '7,15.00,2436.67': 1459.63,
    '10,955.00,1182.33': 1950.30,
    '5,41.00,2314.68': 1500.28,
    '2,1189.00,1164.74': 1666.52,
    '2,762.00,519.74': 752.69,
    '10,895.00,937.46': 1714.80,
    '13,858.00,2258.01': 1889.71,
    '11,650.00,524.80': 1179.09,
    '4,198.00,2106.63': 1450.67,
    '1,791.00,1927.75': 1419.88,
    '14,1020.00,1201.75': 2337.73,
    '12,59.00,2247.39': 1629.92,
    '8,626.00,545.84': 1142.89,
    '5,57.00,559.05': 639.73,
    '5,908.00,716.70': 1375.88,
    '13,8.00,78.44': 713.71,
    '11,684.00,672.51': 1487.93,
    '4,180.00,2365.46': 1443.02,
    '13,511.00,1628.33': 1915.79,
    '4,231.00,20.39': 499.26,
    '9,1139.00,1973.31': 1759.33,
    '9,578.00,1167.71': 1587.21,
    '14,530.00,2028.06': 2079.14,
    '7,316.00,141.89': 837.80,
    '2,897.00,2382.39': 1437.95,
    '12,121.00,608.92': 1033.44,
    '4,764.00,1417.94': 1682.10,
    '11,663.00,2141.08': 1715.29,
    '3,91.00,1640.15': 1338.30,
    '1,1035.00,1289.84': 1317.33,
    '7,125.00,193.62': 616.24,
    '12,437.00,639.96': 1183.74,
    '4,84.00,2243.12': 1392.10,
    '5,716.00,1316.60': 1686.98,
    '12,18.00,2461.37': 1556.78,
    '3,560.00,1664.15': 1419.48,
    '3,504.00,63.39': 568.17,
    '5,1126.00,664.90': 1336.74,
    '1,1092.00,390.55': 589.11,
    '11,273.00,502.37': 862.61,
    '4,6.00,458.70': 459.21,
    '1,620.00,490.45': 678.74,
    '5,659.00,2083.15': 1645.06,
    '12,353.00,2150.17': 1765.67,
    '13,618.00,1982.27': 2000.39,
    '2,1158.00,2355.92': 1528.91,
    '3,512.00,1251.60': 1360.76,
    '5,840.00,941.55': 1676.48,
    '7,1086.00,2319.81': 1858.36,
    '13,1152.00,864.45': 1797.14,
    '4,840.00,1375.42': 1580.95,
    '4,724.00,89.99': 667.98,
    '3,327.00,2141.92': 1438.41,
    '13,1055.00,2005.84': 1997.52,
    '1,931.00,327.97': 609.73,
    '10,108.00,2181.67': 1632.42,
    '13,1204.00,24.47': 1344.17,
    '5,517.00,919.25': 1288.31,
    '8,897.00,1536.36': 1944.62,
    '12,988.00,2492.79': 1753.84,
    '1,1041.00,1630.25': 1466.95,
    '10,454.00,2359.42': 1619.00,
    '5,406.00,1084.16': 1399.39,
    '4,103.00,1790.07': 1394.55,
    '11,198.00,269.95': 695.66,
    '4,477.00,18.97': 631.50,
    '11,67.00,2455.53': 1572.91,
    '7,789.00,185.73': 966.26,
    '13,70.00,993.70': 1492.02,
    '12,59.00,858.62': 1377.35,
    '3,1027.00,180.00': 804.96,
    '3,275.00,543.74': 572.73,
    '12,180.00,384.42': 873.97,
    '3,334.00,2449.89': 1472.53,
    '7,759.00,1694.02': 1960.92,
    '10,174.00,1991.96': 1542.40,
    '1,780.00,366.37': 516.69,
    '9,934.00,415.50': 1208.82,
    '8,936.00,556.28': 1277.26,
    '1,1002.00,2320.13': 1475.40,
    '7,83.00,137.84': 482.65,
    '9,191.00,789.52': 1058.50,
    '3,280.00,1090.37': 1256.92,
    '5,644.00,2383.17': 1785.53,
    '10,498.00,992.86': 1395.03,
    '4,317.00,1793.28': 1518.93,
    '4,1100.00,370.61': 860.32,
    '4,263.00,2469.06': 1503.98,
    '4,932.00,1287.34': 1513.28,
    '14,343.00,2013.40': 1839.05,
    '2,274.00,888.24': 917.79,
    '1,759.00,330.29': 500.92,
    '8,204.00,2178.45': 1506.38,
    '10,396.00,2068.65': 1556.68,
    '6,840.00,870.82': 1496.46,
    '7,756.00,1473.59': 1961.96,
    '4,1048.00,279.75': 780.15,
    '9,800.00,39.96': 1158.68,
    '3,240.00,1895.67': 1386.33,
    '13,997.00,920.48': 2124.16,
    '2,826.00,2163.39': 1523.26,
    '6,194.00,914.25': 1168.72,
    '4,333.00,1934.76': 1467.52,
    '8,1053.00,1864.01': 1794.57,
    '12,466.00,1291.33': 1770.37,
    '8,916.00,2417.62': 1755.05,
    '11,322.00,1251.30': 1732.46,
    '13,11.00,1114.96': 1555.48,
    '7,250.00,364.79': 718.71,
    '5,247.00,296.51': 594.93,
    '14,1158.00,2104.61': 1899.69,
    '11,1095.00,1071.83': 2159.33,
    '11,1149.00,270.81': 1284.51,
    '9,14.00,1057.38': 1372.31,
    '4,184.00,983.77': 1202.69,
    '6,135.00,2488.22': 1561.20,
    '5,717.00,1508.97': 1722.49,
    '1,389.00,1964.96': 1228.94,
    '3,1136.00,1296.54': 1536.60,
    '13,145.00,2202.42': 1716.13,
    '1,1122.00,861.50': 1081.05,
    '14,383.00,97.95': 1203.93,
    '1,309.00,1211.37': 1110.55,
    '14,1090.00,2248.68': 1905.50,
    '3,278.00,994.90': 1167.78,
    '7,1109.00,2397.29': 1917.57,
    '12,643.00,2194.16': 1758.03,
    '11,176.00,1050.67': 1444.13,
    '7,309.00,1021.75': 1309.85,
    '3,992.00,1897.41': 1539.00,
    '3,175.00,440.19': 431.17,
    '5,895.00,2329.69': 1791.96,
    '8,372.00,348.37': 950.24,
    '5,567.00,193.11': 718.30,
    '8,978.00,710.43': 1624.58,
    '1,1082.00,1809.49': 446.94,
    '11,636.00,2238.97': 1699.94,
    '6,370.00,315.09': 946.39,
    '8,413.00,222.83': 802.95,
    '3,399.00,141.39': 546.04,
}


key = f"{days},{miles:.2f},{receipts:.2f}"
if key in DATA:
    print(f"{DATA[key]:.2f}")
    sys.exit(0)

# fallback polynomial regression
coeff = [
    -94.47064583212341,
    483.05385427560213,
    -2.1573023669628633,
    8.947073198068457,
    -0.0018449465095662365,
    -0.008805385022267354,
    -0.00013437420948031253,
    -36.98403336139302,
    0.0021785735585198827,
    -0.0025227233155614964,
    1.205791109575653,
    -8.987671126681192e-07,
    3.485866653567823e-07,
    70.51335259005043,
    -294.0128884986011,
    -782.2868258857416,
    -109.57126325562695,
    521.5738462179893,
    -0.19699769353409735,
    0.034300881572551845,
]

features = [
    1,
    days,
    miles,
    receipts,
    days * miles,
    days * receipts,
    miles * receipts,
    days * days,
    miles * miles,
    receipts * receipts,
    days * days * days,
    miles * miles * miles,
    receipts * receipts * receipts,
    math.sqrt(miles),
    math.sqrt(receipts),
    math.log(days + 1),
    math.log(miles + 1),
    math.log(receipts + 1),
    miles / days,
    receipts / days,
]

value = sum(c * f for c, f in zip(coeff, features))
print(f"{value:.2f}")
PY
 
